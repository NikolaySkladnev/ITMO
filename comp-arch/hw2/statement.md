# Домашнее задание 2

## Дедлайн

12 ноября 23:59 (UTC + 3).

## Условие

Все шаблоны модулей находятся в [`templates.v`](./templates.v).

В данном задании запрещено использование встроенных логических примитивов и арифметических операций,
всю логику необхидимо реализовывать самостоятельно посредством структурного моделирования,
либо использовать заранее реализованные модули из файла с шаблоном.

### Часть 1

Реализовать АЛУ (модуль `alu` в [`templates.v`](./templates.v)),
поддерживающее операции с 4-битными целыми числами в представлении дополнение до 2.

Кодирование операций представлено в табличке:
| Op            | Control |
|---------------|---------|
| a & b         | 000     |
| !(a & b)      | 001     |
| a &#124; b    | 010     |
| !(a &#124; b) | 011     |
| a + b         | 100     |
| a - b         | 101     |
| slt           | 110     |
| unused        | 111     |

`slt` - установить самый младший бит результата равным 1, если `a < b`, остальные биты остаются нулями.

Для запуска тестов:
```
iverilog -g2001 alu_test.v
vvp a.out
```

### Часть 2

Реализовать _игрушечный_ регистровый файл (модуль `register_file` в [`templates.v`](./templates.v)),
имеющий четыре 4-битных регистра. Чтение из регистрового файла происходит асинхронно,
запись происходит на спаде сигнала синхронизации (`clk`) при наличии `1` на входе `we`.

К сожалению, структурная реализация последовательных схем на verilog'е дело весьма нетривиальное
(нужно аккуратно разбираться с задержками всех составных частей вашей схемы). Поэтому
в качестве схемы, используемой для хранения бита информации __необходимо__ использовать модуль
`d_latch` (который реализован императивно). Данный модуль предоставляет возможность асинхронно
читать содержимое ячейки и изменять ее состояние на спаде сигнала `clk` при наличии `1` на входе
`we`.

Изначально все регистры хранят нули.

Для запуска тестов:
```
iverilog -g2001 register_file_test.v
vvp a.out
```

### Часть 3

Реализовать 4-битный счетчик (модуль `counter` в [`templates.v`](./templates.v)), который хранит 4 независимых значения и
поддерживает операцию инкремента/декремента выбранного значения на переданную константу.
Чтение из счетчика с заданным происходит асинхронно, запись происходит на спаде сигнала синхронизации (`clk`).

Для запуска тестов:
```
iverilog -g2001 counter_test.v
vvp a.out
```

## Формат сдачи

Необходимо отправить решение в [гугл-форму](https://docs.google.com/forms/d/e/1FAIpQLSezAyz-EW8wUNg8M9QSizX08Xtl8JSq6ZCF5HsNjXiCbjkbMg/viewform?usp=sf_link).

Для решения части необходимо использовать шаблон [`templates.v`](./templates.v), файл с Вашим решением должен называться
`templates.v`. Изменять имена и сигнатуру модулей (количество, порядок и названия портов) запрещено.
